<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Feature Demo</title>
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", system-ui, sans-serif;
      background: #ffffff;
      color: #1d1d1f;
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .hidden { display: none !important; }

    /* ── Header ── */
    header {
      height: 52px;
      padding: 0 28px;
      display: flex;
      align-items: center;
      flex-shrink: 0;
      background: rgba(255, 255, 255, 0.82);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
      position: relative;
      z-index: 10;
    }

    header h1 {
      font-size: 15px;
      font-weight: 600;
      letter-spacing: -0.2px;
      color: #1d1d1f;
    }

    .layout {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* ── Sidebar ── */
    aside {
      width: 258px;
      flex-shrink: 0;
      background: #f5f5f7;
      border-right: 1px solid rgba(0, 0, 0, 0.08);
      padding: 20px 10px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }

    aside nav {
      display: flex;
      flex-direction: column;
    }

    /* ── Tab Switcher ── */
    .tab-switcher {
      display: flex;
      background: rgba(0, 0, 0, 0.06);
      border-radius: 10px;
      padding: 3px;
      margin-bottom: 20px;
      flex-shrink: 0;
    }

    .tab-btn {
      flex: 1;
      padding: 6px 4px;
      border: none;
      background: transparent;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 500;
      color: #6e6e73;
      cursor: pointer;
      transition: all 0.18s ease;
      letter-spacing: -0.1px;
      font-family: inherit;
    }

    .tab-btn.active {
      background: #ffffff;
      color: #1d1d1f;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.12), 0 0.5px 1px rgba(0, 0, 0, 0.08);
    }

    /* ── Category sections ── */
    .category-section {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .category-section:not(:first-child) {
      margin-top: 28px;
    }

    .category-title {
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #86868b;
      padding: 0 10px 6px;
    }

    .feature-btn {
      display: block;
      width: 100%;
      text-align: left;
      background: transparent;
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 14px;
      font-weight: 400;
      color: #1d1d1f;
      cursor: pointer;
      transition: background 0.12s ease, color 0.12s ease;
      line-height: 1.45;
      letter-spacing: -0.1px;
    }

    .feature-btn:hover {
      background: rgba(0, 0, 0, 0.055);
    }

    .feature-btn.active {
      background: rgba(0, 113, 227, 0.1);
      color: #0071e3;
      font-weight: 500;
    }

    /* ── Main content ── */
    main {
      flex: 1;
      min-height: 0;
      padding: 52px 60px 48px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .feature-title {
      font-size: 34px;
      font-weight: 700;
      color: #1d1d1f;
      line-height: 1.1;
      letter-spacing: -0.5px;
    }

    .feature-description {
      font-size: 17px;
      color: #6e6e73;
      line-height: 1.6;
      max-width: 520px;
      font-weight: 400;
      letter-spacing: -0.1px;
    }

    /* ── View Demo button ── */
    .view-demo-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      align-self: flex-start;
      padding: 9px 20px;
      background: #0071e3;
      color: #ffffff;
      border-radius: 980px;
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      letter-spacing: -0.1px;
      transition: background 0.15s ease, transform 0.12s ease;
      margin-top: 4px;
    }

    .view-demo-btn:hover {
      background: #0077ed;
      transform: translateY(-1px);
    }

    .view-demo-btn svg {
      width: 13px;
      height: 13px;
      flex-shrink: 0;
    }

    /* ── Video wrapper ── */
    .video-wrapper {
      margin-top: 24px;
      max-width: 780px;
      flex-shrink: 0;
      border-radius: 18px;
      overflow: hidden;
      box-shadow:
        0 2px 6px rgba(0, 0, 0, 0.06),
        0 8px 28px rgba(0, 0, 0, 0.1);
      background: #000;
      position: relative;
    }

    video {
      display: block;
      width: 100%;
      height: auto;
    }

    /* ── Play / pause overlay ── */
    .play-overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .play-icon {
      width: 62px;
      height: 62px;
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(16px) saturate(180%);
      -webkit-backdrop-filter: blur(16px) saturate(180%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.35s ease;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.16);
    }

    .video-wrapper:not(.playing) .play-icon {
      opacity: 1;
    }

    .video-wrapper.playing.flash .play-icon {
      opacity: 1;
    }

    .play-icon svg {
      width: 20px;
      height: 20px;
      fill: #1d1d1f;
      margin-left: 3px;
    }

    .play-icon .pause-bars {
      display: none;
      margin-left: 0;
    }

    .video-wrapper.playing .play-icon .triangle {
      display: none;
    }

    .video-wrapper.playing .play-icon .pause-bars {
      display: block;
    }

    /* ── Hamburger button (hidden on desktop) ── */
    .hamburger {
      display: none;
      background: none;
      border: none;
      cursor: pointer;
      padding: 6px;
      margin-right: 8px;
      border-radius: 6px;
      color: #1d1d1f;
      flex-shrink: 0;
      transition: background 0.12s ease;
    }

    .hamburger:hover {
      background: rgba(0, 0, 0, 0.06);
    }

    .hamburger svg {
      display: block;
      width: 20px;
      height: 20px;
    }

    /* ── Sidebar backdrop overlay ── */
    .sidebar-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.32);
      z-index: 40;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s ease;
    }

    .sidebar-overlay.visible {
      opacity: 1;
      pointer-events: auto;
    }

    /* ── Mobile styles ── */
    @media (max-width: 768px) {
      .hamburger {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .sidebar-overlay {
        display: block;
      }

      aside {
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        z-index: 50;
        padding-top: 68px;
        transform: translateX(-100%);
        transition: transform 0.28s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: none;
        border-right: none;
      }

      aside.open {
        transform: translateX(0);
        box-shadow: 4px 0 32px rgba(0, 0, 0, 0.12);
      }

      main {
        padding: 32px 20px 40px;
      }

      .feature-title {
        font-size: 26px;
        letter-spacing: -0.3px;
      }

      .feature-description {
        font-size: 15px;
      }

      .video-wrapper {
        border-radius: 12px;
        margin-top: 16px;
      }
    }
  </style>
</head>
<body>

<header>
  <button class="hamburger" id="hamburger" aria-label="Open menu">
    <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="2" y="5" width="16" height="1.5" rx="0.75" fill="currentColor"/>
      <rect x="2" y="9.25" width="16" height="1.5" rx="0.75" fill="currentColor"/>
      <rect x="2" y="13.5" width="16" height="1.5" rx="0.75" fill="currentColor"/>
    </svg>
  </button>
  <h1>What's New</h1>
</header>

<div class="sidebar-overlay" id="sidebar-overlay"></div>

<div class="layout">
  <aside id="sidebar">
    <!-- Tab switcher -->
    <div class="tab-switcher">
      <button class="tab-btn active" id="tab-current">Current</button>
      <button class="tab-btn" id="tab-ai">AI</button>
    </div>

    <!-- Current features nav -->
    <nav id="current-nav"></nav>

    <!-- AI features nav -->
    <nav id="ai-nav" class="hidden"></nav>
  </aside>

  <main>
    <h2 class="feature-title" id="feature-title">Select a feature</h2>
    <p class="feature-description" id="feature-description"></p>
    <a class="view-demo-btn hidden" id="view-demo-btn" href="#" target="_blank" rel="noopener">
      View Demo
      <svg viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 11L11 2M11 2H5M11 2V8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </a>
    <div class="video-wrapper" id="video-wrapper">
      <video id="demo-video" preload="metadata"></video>
      <div class="play-overlay" id="play-overlay">
        <div class="play-icon" id="play-icon">
          <!-- Play triangle -->
          <svg class="triangle" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <polygon points="5,3 19,12 5,21"/>
          </svg>
          <!-- Pause bars -->
          <svg class="pause-bars" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <rect x="5" y="3" width="4" height="18"/>
            <rect x="15" y="3" width="4" height="18"/>
          </svg>
        </div>
      </div>
    </div>
  </main>
</div>

<script>
  /*
   * ── CURRENT FEATURE DATA ─────────────────────────────────────────────
   */
  const featureCategories = [
    {
      name: "New Features",
      features: [
        {
          title: "Templates",
          description: "Pre-designed templates to jumpstart your workflow. Choose from dozens of professionally crafted layouts or create your own.",
          video: "videos/feature-1.mp4"
        },
        {
          title: "Filters",
          description: "Advanced filtering options to organize and display exactly what you need. Sort, search, and filter with multiple criteria.",
          video: "videos/feature-2.mp4"
        }
      ]
    },
    {
      name: "Enhancements",
      features: [
        {
          title: "Drag and Drop",
          description: "Intuitive drag-and-drop interface for rearranging elements. Works seamlessly across all components.",
          video: "videos/feature-3.mp4"
        },
        {
          title: "Element Resizing",
          description: "Automatically adjust sizes based on content and screen. Responsive sizing that just works.",
          video: "videos/feature-4.mp4"
        },
        {
          title: "Spacers",
          description: "Control padding and margins with smart spacer elements. Create perfect alignment and breathing room.",
          video: "videos/feature-5.mp4"
        },
        {
          title: "Pop-up Resizing",
          description: "Resizable pop-ups and modals that adapt to your content. Drag edges to customize dimensions on the fly.",
          video: "videos/feature-6.mp4"
        },
        {
          title: "Undo / Redo",
          description: "Step backwards and forwards through every change with full undo and redo support. Nothing is ever permanently lost.",
          video: "videos/feature-11.mp4"
        }
      ]
    },
    {
      name: "Configurations",
      features: [
        {
          title: "Color Configuration",
          description: "Full color customization with built-in color picker. Save and reuse color palettes across projects.",
          video: "videos/feature-7.mp4"
        },
        {
          title: "Padding",
          description: "Fine-grained padding controls for all elements. Adjust in pixels or use preset spacing scales.",
          video: "videos/feature-8.mp4"
        },
        {
          title: "Corner Radius",
          description: "Control border radius for each corner independently. Create sharp, rounded, or mixed corner styles.",
          video: "videos/feature-9.mp4"
        },
        {
          title: "Carousel Auto Play",
          description: "Configure carousels to advance automatically on a set interval. Control speed, pause-on-hover, and looping behavior.",
          video: "videos/feature-10.mp4"
        }
      ]
    }
  ];

  /*
   * ── AI FEATURE DATA ──────────────────────────────────────────────────
   * Replace demoUrl values with actual links when ready.
   */
  const aiFeatureCategories = [
    {
      name: "Creation",
      features: [
        {
          title: "Email to Pop Up",
          description: "Transform any email into a beautiful pop-up in seconds. AI reads your email content and generates a ready-to-publish pop-up automatically.",
          video: "videos/ai-feature-1.mp4",
          demoUrl: "#" // ← replace with actual URL
        }
      ]
    },
    {
      name: "Editing",
      features: [
        {
          title: "AI Rich Text Editor",
          description: "Intelligent text editing powered by AI. Rewrite, summarize, or expand your content with a single click — right inside the editor.",
          video: "videos/ai-feature-2.mp4",
          demoUrl: "#" // ← replace with actual URL
        }
      ]
    },
    {
      name: "Post",
      features: [
        {
          title: "AI Health Card",
          description: "Get an AI-powered health report for your campaigns. Surface issues, suggestions, and optimizations automatically after publishing.",
          video: "videos/ai-feature-3.mp4",
          demoUrl: "#" // ← replace with actual URL
        }
      ]
    }
  ];

  // ── DOM refs
  const titleEl        = document.getElementById("feature-title");
  const descEl         = document.getElementById("feature-description");
  const demoBtnEl      = document.getElementById("view-demo-btn");
  const video          = document.getElementById("demo-video");
  const wrapper        = document.getElementById("video-wrapper");
  const overlay        = document.getElementById("play-overlay");
  const hamburger      = document.getElementById("hamburger");
  const sidebar        = document.getElementById("sidebar");
  const sidebarOverlay = document.getElementById("sidebar-overlay");
  const currentNav     = document.getElementById("current-nav");
  const aiNav          = document.getElementById("ai-nav");
  const tabCurrent     = document.getElementById("tab-current");
  const tabAI          = document.getElementById("tab-ai");

  let activeTab = "current";
  let currentActiveBtn = null;
  let flashTimeout = null;

  // ── Sidebar open/close (mobile)
  function openSidebar() {
    sidebar.classList.add("open");
    sidebarOverlay.classList.add("visible");
  }

  function closeSidebar() {
    sidebar.classList.remove("open");
    sidebarOverlay.classList.remove("visible");
  }

  hamburger.addEventListener("click", () => {
    sidebar.classList.contains("open") ? closeSidebar() : openSidebar();
  });

  sidebarOverlay.addEventListener("click", closeSidebar);

  // ── Build a nav panel from a category array
  function buildNav(navEl, categories) {
    categories.forEach(category => {
      const section = document.createElement("div");
      section.className = "category-section";

      const categoryTitle = document.createElement("div");
      categoryTitle.className = "category-title";
      categoryTitle.textContent = category.name;
      section.appendChild(categoryTitle);

      category.features.forEach(f => {
        const btn = document.createElement("button");
        btn.className = "feature-btn";
        btn.textContent = f.title;
        btn.addEventListener("click", () => {
          loadFeature(f, btn);
          closeSidebar();
        });
        section.appendChild(btn);
      });

      navEl.appendChild(section);
    });
  }

  buildNav(currentNav, featureCategories);
  buildNav(aiNav, aiFeatureCategories);

  // ── Load a feature
  function loadFeature(featureObj, btnEl) {
    // Update active button
    if (currentActiveBtn) currentActiveBtn.classList.remove("active");
    if (btnEl) { btnEl.classList.add("active"); currentActiveBtn = btnEl; }

    titleEl.textContent = featureObj.title;
    descEl.textContent = featureObj.description;

    // View Demo button
    if (featureObj.demoUrl) {
      demoBtnEl.href = featureObj.demoUrl;
      demoBtnEl.classList.remove("hidden");
    } else {
      demoBtnEl.classList.add("hidden");
    }

    // Auto-play video from beginning
    video.pause();
    wrapper.classList.remove("playing");
    wrapper.classList.remove("flash");
    clearTimeout(flashTimeout);
    video.src = featureObj.video;
    video.load();
    video.play().then(() => {
      wrapper.classList.add("playing");
    }).catch(() => {});
  }

  // ── Tab switching
  function switchTab(tab) {
    activeTab = tab;
    tabCurrent.classList.toggle("active", tab === "current");
    tabAI.classList.toggle("active", tab === "ai");
    currentNav.classList.toggle("hidden", tab !== "current");
    aiNav.classList.toggle("hidden", tab !== "ai");

    // Auto-select first feature of the newly active tab
    const firstBtn = (tab === "current" ? currentNav : aiNav).querySelector(".feature-btn");
    const categories = tab === "current" ? featureCategories : aiFeatureCategories;
    const firstFeature = categories[0].features[0];
    if (firstBtn && firstFeature) loadFeature(firstFeature, firstBtn);
  }

  tabCurrent.addEventListener("click", () => switchTab("current"));
  tabAI.addEventListener("click", () => switchTab("ai"));

  // ── Play/pause toggle via overlay
  overlay.addEventListener("click", () => {
    if (video.paused) {
      video.play().then(() => {
        wrapper.classList.add("playing");
        clearTimeout(flashTimeout);
        wrapper.classList.add("flash");
        flashTimeout = setTimeout(() => wrapper.classList.remove("flash"), 1000);
      }).catch(() => {});
    } else {
      video.pause();
      wrapper.classList.remove("playing");
      wrapper.classList.remove("flash");
      clearTimeout(flashTimeout);
    }
  });

  // Sync state when video ends
  video.addEventListener("ended", () => {
    wrapper.classList.remove("playing");
  });

  // ── Load first feature on startup
  const firstCurrentBtn = currentNav.querySelector(".feature-btn");
  loadFeature(featureCategories[0].features[0], firstCurrentBtn);
</script>

</body>
</html>
